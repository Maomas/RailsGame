<h1>Tournaments</h1>

<table>
    <thead>
    <tr>
      <th>Title</th>
      <th>Place</th>
      <th>Date</th>
      <th>Games</th>
      <th colspan="4"></th>
    </tr>
  </thead>
  <tbody>
    <% @tournaments.each do |tournament| %>
      <tr>
        <td><%= tournament.title %>&nbsp;&nbsp;&nbsp;</td>
        <td><%= tournament.place %>&nbsp;&nbsp;&nbsp;</td>
        <td><%= tournament.date %>&nbsp;&nbsp;&nbsp;</td>
        <td><%= tournament.game_list %>&nbsp;&nbsp;&nbsp;</td>
        <% if user_signed_in?  %>
          <% if current_user.isSuper %>
	          <td><%= link_to 'Show', tournament_path(tournament) %>&nbsp;&nbsp;&nbsp;</td>
            <td><%= link_to 'Edit', edit_tournament_path(tournament) %>&nbsp;&nbsp;&nbsp;</td>
            <td><%= link_to 'Destroy', tournament_path(tournament), method: :delete, data: { confirm: 'Are you sure?' } %>&nbsp;&nbsp;&nbsp;</td>
          <% else %>
              <% if Tournament.exists?(:user_id=>current_user.id) %>
                <td><%= link_to 'Find opponents', tournaments_path %>&nbsp;&nbsp;&nbsp;</td>
              <% else %>
                <td><%= link_to 'Participate', participate_path(current_user, tournament.id) %>&nbsp;&nbsp;&nbsp;</td>
              <% end %>
          <% end %>

        <% else %>

        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<% if user_signed_in? && current_user.isSuper %>
<%= link_to 'New Tournament', new_tournament_path %>
<% end %>
